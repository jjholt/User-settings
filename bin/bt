#!/usr/bin/expect -f

# Set variables for the MAC address of the Bluetooth device and the delay time
set mac "FC:58:FA:A6:AE:3C"
set name "AXR85"

# Start bluetoothctl
spawn bluetoothctl

# Already connected and needs a refresh
expect "\[CHG\] Device $mac Connected: yes"
send "remove $mac\r"
expect "Device has been removed"

# Turn on scanning
send "scan on\r"
expect "\[NEW\] Device $mac $name"

# Connect to the device with the specified MAC address
send "connect $mac\r"
expect "Connection successful"

# Exit bluetoothctl
send "exit\r"

# Exit the expect script
expect eof
